<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recording Schedullers</title>
    <style>
			* {
				box-sizing: border-box;
				padding: 0;	
				margin: 0;
				font-family: 'Poppins', sans-serif;
				font-size: 18px;
			}
			body {
				height:;
				/*display: flex;*/
				align-items: center;
				justify-content: center;
			}
			.container {
				/*width: 500px;*/
				padding: 30px;
				border: 1px solid #ffffff;
				border-radius: 20px;
				background-color: #006366;
			}

			h3 {
				margin-bottom: 10px;
				font-size: 30px;
				color: white;
			}

			h5 {
				text-align: center;
				margin-bottom: 40px;
				font-size: 40px;
				color: rgb(204, 157, 157);
			}
			input {
				width: 30%;
				padding: 5px;
				margin-bottom: 25px;
			}
			textarea {
				width: 90%;
				padding: 10px;
				
			}
			select {
				margin-bottom: 10px;
			}

			#submit {
				border: none;
				background-color: orangered;
				color: white;
				width: 200px;
				margin-top: 10px;
				border-radius: 5px;
			}
			#submit:hover {
				background-color: #333333;
			}
			#success-message {
            display: none; /* Initially hidden */
            background-color: rgb(223, 182, 0);
			color: rgb(255, 255, 255);
			border: none;
			width: 200px;
			margin-top: 10px;
			border-radius: 5px;
      </style>
</head>
<body>

    <div class="container">
			<form method="post" action="https://script.google.com/macros/s/AKfycbzmmoD4eDWxIJYfLm3d4PJ0q25wos_952sqn4tLQQypsFuSMegdYKHqxmgvLa0qvJd2/exec" name="Recording">
				
                <h5>Radio MGIRI 90.4FM<h5></h5>
                <h3>Schedule your Recording<h3>
                
                <input type="date" id="Recording_date" name="Recording_date">
                <input type="time" id="RecTime" name="RecTime" min="09:00" max="18:00" required>
                
                <br>
				<input type="text" name="Application_ID" placeholder="Apllication Id(optional)">
                <input type="text" name="Program_Name" placeholder="Program Name" required>
                <br>

                <input type="text" name="Presenter_Name" placeholder="Presenter Name / Bhajan mandal name">
				<input type="text" name="Number" placeholder="Mobile Number">
				<input type="email" name="Email" placeholder="Email">
                <br>

                <input type="text" name="Rj_Name" placeholder="Rj Name (The one who is taking interview)">
                <input type="text" name="Edditing_Assigned_To" placeholder="Editing Assigned to:">
                <br>
                <h3>Scheduled date of Broadcasting:</h3>
                <input type="date" id="Broadcasting_ON" name="Broadcasting_ON">
                <input type="time" id="Broad_Time" name="Broad_Time"/>
                <br>
               <h3>Repeat Broadcasting (Optional):</h3>
               <input type="date" id="Repeat_ON" name="Repeat_ON">
                <input type="time" id="Broad_Repeat_Time" name="Broad_Repeat_Time"/>
				<textarea name="message" rows="3" placeholder="Remarks / Comment"></textarea>
				<input type="submit" value="Submit" id="submit"> <div id="success-message">Recording Scheduled. Please check your calender</div>         		
			
                </form>
            <br><br><div id="success-message">Form Submitted</div>                                                                                          
			<button type="button" onclick="window.open('https://docs.google.com/spreadsheets/d/1WMgzesYXdpmRN_-3a7WjhYGZGwa2xPfISnTy8VdcFL8/edit?usp=sharing')">View Scheduled Recording</button>
			<br>
			<br>  
			<button type="button" onclick="window.open('https://sites.google.com/view/radiomgirioffice/quotation', '_blank')">Update Qsheet</button>
            <h2 style="text-align: center; font-style: italic; color: rgb(167, 161, 161);">Developed by Mahatma Gandhi Institute for Rural Industrialization</h2>
            </div> 
        



    <script>
			const scriptURL = 'https://script.google.com/macros/s/AKfycbzmmoD4eDWxIJYfLm3d4PJ0q25wos_952sqn4tLQQypsFuSMegdYKHqxmgvLa0qvJd2/exec';
			const form = document.forms['Recording'];
            const successMessage = document.getElementById('success-message');


form.addEventListener('submit', e => {
e.preventDefault();  // Prevent default form submission

// Show the loading message
successMessage.style.display = 'block';  
successMessage.innerText = 'Submitting...'; // Change to loading message

fetch(scriptURL, { method: 'POST', body: new FormData(form) })
    .then(response => {
        if (response.ok) {
            // Show success message
            successMessage.innerText = 'Recording Scheduled. Please check your calender';
            form.reset();  // Optionally reset the form fields
        } else {
            // Show error if the form submission fails
            successMessage.innerText = 'Failed to submit the form. Please try again.';
        }
        // Hide message after 5 seconds
        setTimeout(() => {
            successMessage.style.display = 'none';
        }, 5000);
    })
    .catch(error => {
        successMessage.innerText = 'Error! Please try again.';
        console.error('Error!', error.message);
        // Hide message after 5 seconds
        setTimeout(() => {
            successMessage.style.display = 'none';
        }, 5000);
    });
});
		</script>   
</body>
</html>